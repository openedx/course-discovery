{% extends 'base.html' %}
{% load i18n %}
{% block title %}
{% trans "Dashboard" %}
{% endblock title %}

{% block content %}

    <div class="publisher-container">
        <h2 class="hd-2 emphasized">Course runs</h2>
        <ul class="nav-tabs">
            <li {% if need_studio_request_courses_count = 0 %}class="active"{% endif %}><a href="#tab-1"><span>0</span>{% trans "IN PROGRESS" %}</a></li>
            <li><a href="#tab-2"><span>0</span>{% trans "PREVIEW READY" %}</a></li>
            <li {% if need_studio_request_courses_count > 0 %}class="active"{% endif %}>
                <a href="#tab-3"><span>{{ need_studio_request_courses_count }} </span>{% trans "STUDIO REQUEST" %}</a>
            </li>
        </ul>
        <div class="tabs-container">
            <div id="tab-1" class="tab-content {% if need_studio_request_courses_count = 0 %}active{% endif %}"></div>
            <div id="tab-2" class="tab-content"></div>
            <div id="tab-3" class="tab-content {% if need_studio_request_courses_count > 0 %}active{% endif %}">
                <p>{% trans "The list below are the are course that need a studio instance to start development." %}</p>
                <div class="table-view">
                    <div class="table-row table-head">
                        <div class="table-col">
                            {% trans "Course Name" %}
                        </div>
                        <div class="table-col">
                            {% trans "Start Date" %}
                        </div>
                        <div class="table-col">
                            {% trans "Course Number" %}
                        </div>
                        <div class="table-col">
                            {% trans "Studio URL" %}
                        </div>
                    </div>

                    {% for course_run in need_studio_request_courses %}
                        <div class="table-row">
                            <div class="table-col">
                                <a href="{% url 'publisher:publisher_course_run_detail' course_run.id %}">{{ course_run.title }}</a>
                            </div>
                            <div class="table-col">
                                 {{ course_run.start }}
                            </div>
                            <div class="table-col">
                                {{ course_run.number }}
                            </div>
                            <div class="table-col">
                                <input type="text" class="field-input input-text" />
                                <button class="btn-inline">ADD</button>
                            </div>
                        </div>
                    {% endfor %}
                    </div>
                    {% include 'paging.html' with paginated_data=need_studio_request_courses  %}
                </div>
            </div>
        </div>

{% endblock %}
{% block extra_js %}
    <script>
        $(document).ready(function() {
            $(".nav-tabs a").click(function(event) {
                event.preventDefault();
                $(this).parent().addClass("active");
                $(this).parent().siblings().removeClass("active");
                var tab = $(this).attr("href");
                $(".tab-content").not(tab).css("display", "none");
                $(tab).fadeIn();
            });
        });
    </script>
{% endblock %}

